import { useState, useEffect, useRef } from 'react';
import { RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, Legend, ResponsiveContainer, Tooltip } from 'recharts';

const storage = {
  get: async (key) => {
    const value = localStorage.getItem(key);
    return value ? { value } : null;
  },
  set: async (key, value) => {
    localStorage.setItem(key, value);
  }
};

const TH={
mod0:{t:`Dlaczego prezentacje nie dziaÅ‚ajÄ…`,b:`Problem 'slajdumentÃ³w'\n\nKozieÅ‚ twierdzi, Å¼e problem zaczÄ…Å‚ siÄ™ w latach 50., kiedy projektory na folie pozwoliÅ‚y ludziom schowaÄ‡ siÄ™ za slajdami. Od tamtej pory ludzie mylÄ… 'prezentacjÄ™' z 'dokumentem na ekranie'.\n\nW IT outsourcingu typowa prezentacja vendora:\nâ€¢ About us z logo i datÄ… zaÅ‚oÅ¼enia\nâ€¢ Lista technologii\nâ€¢ Our process z 5 krokami\nâ€¢ 2-3 case studies\nâ€¢ Contact us\n\nKlient widziaÅ‚ to 47 razy. Ty jesteÅ› 48.\n\nSlajd vs Slajdument\n\nSLAJD: wspiera to, co mÃ³wisz. Nie da siÄ™ go zrozumieÄ‡ bez prezentera.\nSLAJDUMENT: dokument wrzucony na slajd. MoÅ¼na przeczytaÄ‡ bez prezentera.\n\nTest: JeÅ›li klient moÅ¼e zrozumieÄ‡ TwÃ³j slajd bez Ciebie â€” to nie jest slajd, to dokument.`},
matryce:{t:`4 Matryce klientÃ³w`,b:`Selektywna percepcja â€” ludzie sÅ‚yszÄ… tylko to, co ich dotyczy.\n\nMATRYCA A â€” 'Pali siÄ™'\nKlient ma projekt, deadline, nie ma ludzi. Liczy siÄ™ SZYBKOÅšÄ†.\nâ†’ Prezentacja: 80% o procesie i szybkoÅ›ci\nâ†’ Intencja: 'Dowozimy wÅ‚aÅ›ciwych ludzi w 2 tygodnie'\n\nMATRYCA B â€” 'SpaliÅ‚ siÄ™ z vendorem'\nZÅ‚e doÅ›wiadczenia. Liczy siÄ™ ZAUFANIE.\nâ†’ Prezentacja: 80% o tym co robisz inaczej\nâ†’ Intencja: 'Max 3 kandydatÃ³w, kaÅ¼dy przechodzi tech screen'\n\nMATRYCA C â€” 'PorÃ³wnuje 5 ofert'\nTryb przetargowy. Liczy siÄ™ WYRÃ“Å»NIENIE.\nâ†’ Prezentacja: 80% o tym czego NIE robisz\nâ†’ Intencja: 'Nie wysyÅ‚amy 20 CV â€” wysyÅ‚amy 3 wÅ‚aÅ›ciwych'\n\nMATRYCA D â€” 'Nie wie czego potrzebuje'\nLiczy siÄ™ EDUKACJA.\nâ†’ Prezentacja: 80% o modelu wspÃ³Å‚pracy\nâ†’ Intencja: 'Body leasing = szybkoÅ›Ä‡, rekrutacja = stabilnoÅ›Ä‡'`},
szablon:{t:`Szablon matrycy klienta`,b:`1. PROFIL KLIENTA\nâ€¢ Kto siedzi po drugiej stronie?\nâ€¢ Co go nie Å›pi w nocy?\nâ€¢ Czego siÄ™ boi?\nâ€¢ Co musi usÅ‚yszeÄ‡?\n\n2. KONTEKST\nâ€¢ Dlaczego szuka teraz? (trigger)\nâ€¢ Kto jeszcze w grze? (konkurencja)\nâ€¢ Kto decyduje? (stakeholders)\nâ€¢ BudÅ¼et?\n\n3. MOI ATUTY\nâ€¢ Co z oferty jest NAJBARDZIEJ istotne?\nâ€¢ Jaki case study pasuje?\nâ€¢ Jakie liczby przekonajÄ…?\n\n4. INTENCJA DOWÃ“DCY\nâ€¢ Jedno zdanie â€” max 10 sÅ‚Ã³w\nâ€¢ Wszystko co NIE sÅ‚uÅ¼y intencji â€” wylatuje.`},
intencja:{t:`Intencja dowÃ³dcy`,b:`Gdyby klient miaÅ‚ zapamiÄ™taÄ‡ JEDNÄ„ RZECZ â€” co to jest?\n\nMax 10 sÅ‚Ã³w. Musi byÄ‡ KONKRETNA.\n\nPrzykÅ‚ady:\nâ€¢ A: 'Ideamotive dowozi trafnych ludzi w 2 tygodnie'\nâ€¢ B: 'Max 3 kandydatÃ³w, kaÅ¼dy przechodzi tech screen'\nâ€¢ C: 'Nie wysyÅ‚amy 20 CV â€” wysyÅ‚amy 3 wÅ‚aÅ›ciwych'\nâ€¢ D: 'Body leasing = szybkoÅ›Ä‡, rekrutacja = stabilnoÅ›Ä‡'\n\nWszystko co NIE sÅ‚uÅ¼y intencji dowÃ³dcy â€” wylatuje.`},
discovery:{t:`Discovery Call â€” pytania`,b:`Pytania o sytuacjÄ™:\nâ€¢ Co siÄ™ wydarzyÅ‚o, Å¼e teraz szukajÄ…?\nâ€¢ Jaki jest timeline?\nâ€¢ Czy prÃ³bowali rekrutowaÄ‡ sami?\nâ€¢ Jaki tech stack?\nâ€¢ Ile osÃ³b i na jak dÅ‚ugo?\n\nPytania o decyzjÄ™:\nâ€¢ Kto jeszcze ocenia ofertÄ™?\nâ€¢ Co waÅ¼niejsze â€” szybkoÅ›Ä‡ czy dopasowanie?\nâ€¢ Jaki model â€” body leasing czy rekrutacja?\nâ€¢ BudÅ¼et zatwierdzony?\n\nPytania o bÃ³l:\nâ€¢ Co najbardziej frustruje?\nâ€¢ ZÅ‚e doÅ›wiadczenia z dostawcami?\nâ€¢ Co by zmienili w rekrutacji?\nâ€¢ Co siÄ™ stanie jeÅ›li NIE znajdÄ… ludzi na czas?`},
luka:{t:`Luka informacyjna + Åšwiat 1â€”2`,b:`CiekawoÅ›Ä‡ pojawia siÄ™ gdy ludzie czujÄ…, Å¼e czegoÅ› nie wiedzÄ….\n\nZamiast 'Kim jesteÅ›my' â†’ pytanie lub zaskakujÄ…cy fakt tworzÄ…cy napiÄ™cie.\n\nPrzykÅ‚ad: '73% projektÃ³w IT outsourcingowych przekracza budÅ¼et o 30%. Zaraz pokaÅ¼Ä™ dlaczego i co robimy inaczej.'\n\nStruktura Åšwiat 1 â€” Åšwiat 2:\n\nAKT 1: ÅšWIAT 1 â€” problem klienta (3 min)\nOpisz BÃ“L z perspektywy klienta.\n\nAKT 2: MOST â€” dlaczego standard nie dziaÅ‚a (3 min)\nWyjaÅ›nij dlaczego typowe rozwiÄ…zania zawodzÄ….\n\nAKT 3: ÅšWIAT 2 â€” Twoje rozwiÄ…zanie (5 min)\nCo robisz INACZEJ. Z przyczynowoÅ›ciÄ…. Case study.\n\nAKT 4: CTA â€” konkretny nastÄ™pny krok (2 min)\nNIE 'dajcie znaÄ‡'. TAK 'PrzysyÅ‚am 2-3 profile?'`},
hooki:{t:`5 typÃ³w hookÃ³w`,b:`TYP 1 â€” Luka informacyjna: ZaskakujÄ…cy fakt + napiÄ™cie\n'73% firm w automotive nie obsadziÅ‚o stanowiska w terminieâ€¦'\n\nTYP 2 â€” Anty-intro: Kontrast\n'MÃ³gÅ‚bym pokazaÄ‡ 20 slajdÃ³w o nas. Zamiast tegoâ€¦'\n\nTYP 3 â€” Historia klienta: Anegdota\n'W zeszÅ‚ym roku zadzwoniÅ‚ Engineering Managerâ€¦'\n\nTYP 4 â€” Prowokacja: CoÅ› kontrintuicyjnego\n'Mamy mniej ludzi w bazie niÅ¼ konkurencja â€” i dlategoâ€¦'\n\nTYP 5 â€” Pytanie bezpoÅ›rednie:\n'Ile kosztuje Was kaÅ¼dy miesiÄ…c bez tych developerÃ³w?'`},
przycz:{t:`PrzyczynowoÅ›Ä‡ â€” dlaczego`,b:`Ludzie potrzebujÄ… wiedzieÄ‡ DLACZEGO.\n\nBEZ: 'Mamy 8 lat doÅ›wiadczenia'\nZ: 'Przez 8 lat zbudowaliÅ›my sieÄ‡ kontaktÃ³w, dlatego nie szukamy od zera'\n\nBEZ: 'Max 3 kandydatÃ³w'\nZ: 'Max 3, bo wymuszamy dokÅ‚adniejszy screening â€” eliminuje 80% nietrafionych rozmÃ³w'\n\n10 twierdzeÅ„ do uzupeÅ‚nienia:\n1. 'Start w 2 tygodnie' â†’ dlaczego?\n2. 'Specjalizujemy siÄ™ w Java, .NET, Python' â†’ dlaczego waÅ¼ne?\n3. 'Elastyczne warunki' â†’ co to znaczy?\n4. 'Screening techniczny' â†’ jak?\n5. 'Automotive' â†’ co to daje klientowi?\n6. 'Transparentne stawki' â†’ dlaczego?\n7. 'Gwarancja na kandydata' â†’ jak dziaÅ‚a?\n8. 'DÅ‚ugoterminowe partnerstwa' â†’ dowÃ³d?`},
story:{t:`Storytelling z poraÅ¼ki + komedia`,b:`STORYTELLING Z PORAÅ»KI\nLudzie ufajÄ… tym, ktÃ³rzy mÃ³wiÄ… o bÅ‚Ä™dach.\n1. SYTUACJA: Co siÄ™ wydarzyÅ‚o?\n2. MOMENT KRYTYCZNY: Co poszÅ‚o nie tak?\n3. REAKCJA: Jak zareagowaÅ‚em?\n4. LEKCJA: Co zmieniÅ‚em?\n5. WPÅYW: Dlaczego to waÅ¼ne dla klienta?\n\nSTRUKTURY KOMEDIOWE\nKONTRAST: 'Typowa firma obiecuje 50 CV. My 3. I dlatego nasi przechodzÄ… rozmowy.'\nZMYÅKA: 'Sekretna broÅ„? Nie AI. Telefon.'\nABSURD: '200 CV = 3 miesiÄ…ce rozmÃ³w zamiast projektu.'`},
scenariusz:{t:`Szablon scenariusza Åšwiat 1â€”2`,b:`INTENCJA DOWÃ“DCY: [jedno zdanie]\n\nâ•â•â• AKT 1: ÅšWIAT 1 (3 min) â•â•â•\nHOOK: [typ 1-5]\nOpis BÃ“LU z perspektywy klienta\nPRZEJÅšCIE: 'Poznajemy to z rozmÃ³w z dziesiÄ…tkami firmâ€¦'\n\nâ•â•â• AKT 2: MOST (3 min) â•â•â•\nDlaczego typowe firmy wysyÅ‚ajÄ… 20 CV i Å¼adne nie pasuje?\nPUNKT ZWROTNY: 'WiÄ™c co moÅ¼na zrobiÄ‡ inaczej?'\n\nâ•â•â• AKT 3: ÅšWIAT 2 (5 min) â•â•â•\nTwoje podejÅ›cie z przyczynowoÅ›ciÄ…\nCASE STUDY: [klient] â†’ [problem] â†’ [wynik]\n\nâ•â•â• AKT 4: CTA (2 min) â•â•â•\nPowtÃ³rz intencjÄ™\nKROK: 'ProponujÄ™ jedno: [konkretna akcja]'`},
wizual:{t:`Zasady wizualizacji`,b:`3 ZASADY:\n1. SLAJD â‰  DOKUMENT\n2. 1 SLAJD = 1 MYÅšL (20-60 sek)\n3. KONIEC Z BULLET POINTAMI\n\nPRZYKÅAD TRANSFORMACJI:\nPRZED: 'Our Process' z 6 bulletami\nPO: 6 slajdÃ³w â€” '48h', 'Znamy osobiÅ›cie', wykres 3 vs 20 CV\n\nDANE JAKO HISTORIA:\nâ€¢ Tabela â†’ wykres z highlightem\nâ€¢ Lista â†’ timeline wizualny\nâ€¢ Tekst â†’ duÅ¼a liczba na Å›rodku\n\nTEST 5 SEKUND:\nPokaÅ¼ â†’ zakryj â†’ 'Co zapamiÄ™taÅ‚eÅ›?'\n\nLEAVE-BEHIND:\nDeck = minimalne slajdy (na Å¼ywo)\nLeave-behind = dokument (po spotkaniu)`},
scena:{t:`Warsztat sceniczny`,b:`SETUP (Teams/Zoom):\nâ–¡ Oczy 1/3 od gÃ³ry kadru\nâ–¡ PorzÄ…dne tÅ‚o\nâ–¡ Patrzenie W KAMERÄ˜\nâ–¡ Mikrofon zewnÄ™trzny\nâ–¡ ÅšwiatÅ‚o PRZED TobÄ…\n\nGÅOS I PAUZY:\nâ€¢ Nie za szybko\nâ€¢ Po waÅ¼nym twierdzeniu â†’ 2-sek pauza\nâ€¢ Ton W DÃ“Å = autorytet\nâ€¢ Policz 'yyy/eee'\n\nAKTYWIZACJA WIDOWNI:\nMin 3 pytania w 15 min:\nâ€¢ Min 2-3: 'Jak u Was wyglÄ…da proces?'\nâ€¢ Min 7-8: 'To coÅ› z czym siÄ™ identyfikujecie?'\nâ€¢ Min 12-13: 'Co jest najistotniejsze?'\n\nTRUDNE PYTANIA:\n1. PotwierdÅº\n2. Odpowiedz KONKRETNIE\n3. Przekieruj na wartoÅ›Ä‡`},
trudne:{t:`10 trudnych pytaÅ„`,b:`Przygotuj odpowiedzi (PotwierdÅº â†’ Odpowiedz â†’ Przekieruj):\n\n1. 'Dlaczego jesteÅ›cie droÅ¼si?'\n2. 'Jak zagwarantujecie Å¼e zostanie?'\n3. 'Ile CV i kiedy?'\n4. 'Macie doÅ›wiadczenie w naszej branÅ¼y?'\n5. 'Co jeÅ›li nie przejdzie prÃ³by?'\n6. 'Dlaczego max 3 kandydatÃ³w?'\n7. 'CV przed umowÄ…?'\n8. 'Jak weryfikujecie kompetencje?'\n9. 'Inny vendor obiecaÅ‚ start w 3 dni'\n10. 'Czym siÄ™ rÃ³Å¼nicie od X?'`},
audyt:{t:`5 pytaÅ„ audytowych`,b:`Przy KAÅ»DYM slajdzie TAK/NIE:\n1. Czy mÃ³gÅ‚by byÄ‡ mailem?\n2. Czy klient MUSI mnie sÅ‚uchaÄ‡?\n3. Czy wywoÅ‚uje emocjÄ™?\n4. Czy jest identyczny jak u konkurencji?\n5. Gdybym usunÄ…Å‚ â€” zauwaÅ¼yÅ‚by?\n\n>50% mÃ³gÅ‚by byÄ‡ mailem â†’ masz slajdument.`},
check:{t:`Checklista przed prezentacjÄ…`,b:`â–¡ Matryca klienta wypeÅ‚niona\nâ–¡ JEDNA intencja dowÃ³dcy\nâ–¡ Hook = luka informacyjna\nâ–¡ Struktura Åšwiat 1 â†’ 2\nâ–¡ KaÅ¼de twierdzenie ma 'dlaczego'\nâ–¡ Historia (case study + liczby)\nâ–¡ Test 5 sekund OK\nâ–¡ Pytania do widowni (min 3)\nâ–¡ CTA konkretne\nâ–¡ Przetestowane na gÅ‚os\nâ–¡ Setup techniczny OK`},
bank_opis:{t:`Bank MateriaÅ‚Ã³w â€” jak prowadziÄ‡`,b:`Aktualizuj CO PIÄ„TEK â€” 5 minut.\n\nCASE STUDIES â€” Kto? Problem? Co zrobiliÅ›my? Wynik?\nLICZBY â€” czas rekrutacji, % akceptacji, stawki\nCYTATY â€” dosÅ‚owne sÅ‚owa klientÃ³w\nAHA MOMENTS â€” 'Tego nie wiedziaÅ‚em'\nPORAÅ»KI â€” co poszÅ‚o nie tak i co zmieniÅ‚em`},
ocena:{t:`6 kategorii samooceny`,b:`OceÅ„ 1-10 po nagraniu:\n\nHOOK: Czy pierwsze 30 sek zbudowaÅ‚o napiÄ™cie?\nLOGIKA: Czy Åšwiat 1â†’Mostâ†’Åšwiat 2 pÅ‚ynie?\nEMOCJE: Czy wywoÅ‚aÅ‚eÅ› emocjÄ™?\nENERGIA: Czy ton trzyma uwagÄ™?\nAUTENTYCZNOÅšÄ†: Czy brzmisz jak TY?\nCTA: Czy jasno powiedziaÅ‚eÅ› co dalej?`}
};
const YT={
tedx:{l:`ğŸ¬ KozieÅ‚ TEDx: Prezentacje`,u:`https://www.youtube.com/results?search_query=kamil+koziel+tedx+prezentacje`},
sales1:{l:`ğŸ¬ KozieÅ‚ Salespresso cz.1`,u:`https://www.youtube.com/results?search_query=kamil+koziel+salespresso+prezentacje`},
sales2:{l:`ğŸ¬ KozieÅ‚ Salespresso cz.2`,u:`https://www.youtube.com/results?search_query=kamil+koziel+salespresso+sztuka`},
ted_slides:{l:`ğŸ¬ TED Talk â€” obserwuj SLAJDY`,u:`https://www.youtube.com/results?search_query=best+ted+talk+slides+design`}
};

const DAYS_DATA=[
{day:1,week:1,type:`theory`,icon:`ğŸ“–`,title:`Dlaczego prezentacje nie dziaÅ‚ajÄ…`,module:`RESET`,steps:[
{time:`0-10`,task:`Przeczytaj teoriÄ™ ModuÅ‚u 0 â€” slajdumenty, historia projektorÃ³w. Zaznacz 3 rzeczy, ktÃ³re dotyczÄ… CIEBIE.`,refs:[{t:`th`,k:`mod0`}]},
{time:`10-20`,task:`Obejrzyj Kamila KozieÅ‚a TEDx (pierwsze 8 min).`,refs:[{t:`yt`,k:`tedx`}]},
{time:`20-30`,task:`Zapisz: (1) Ile prezentacji w ostatnim miesiÄ…cu? (2) Czy klient powiedziaÅ‚ 'wow'? (3) Jedno sÅ‚owo opisujÄ…ce TwojÄ… prezentacjÄ™.`,refs:[]}
]},
{day:2,week:1,type:`exercise`,icon:`âœï¸`,title:`Audyt Twojej prezentacji`,module:`RESET`,steps:[
{time:`0-5`,task:`OtwÃ³rz aktualnÄ… prezentacjÄ™ Ideamotive. RozÅ‚Ã³Å¼ slajdy.`,refs:[]},
{time:`5-25`,task:`Dla KAÅ»DEGO slajdu odpowiedz na 5 pytaÅ„ audytowych.`,refs:[{t:`th`,k:`audyt`}]},
{time:`25-30`,task:`Policz wyniki. Ile slajdÃ³w to slajdumenty?`,refs:[]}
]},
{day:3,week:1,type:`exercise`,icon:`âœï¸`,title:`Analiza konkurencji`,module:`RESET`,steps:[
{time:`0-15`,task:`WejdÅº na strony 5 konkurencyjnych firm. Szukaj 'How we work'. RÃ³b screeny.`,refs:[]},
{time:`15-25`,task:`Wypisz WSZYSTKO co siÄ™ powtarza.`,refs:[]},
{time:`25-30`,task:`PorÃ³wnaj z TwojÄ… prezentacjÄ…. Zaznacz identyczne elementy.`,refs:[{t:`th`,k:`mod0`}]}
]},
{day:4,week:1,type:`recording`,icon:`ğŸ™ï¸`,title:`BENCHMARK â€” nagranie bez slajdÃ³w`,module:`RESET`,steps:[
{time:`0-3`,task:`Przygotuj telefon. Scenariusz: CTO, automotive, 5 Java devÃ³w, 2 tygodnie.`,refs:[]},
{time:`3-15`,task:`NAGRAJ SIÄ˜. Opowiedz CTO dlaczego Ideamotive. Max 10 min.`,refs:[]},
{time:`15-25`,task:`Obejrzyj nagranie. Notuj sÅ‚aboÅ›ci.`,refs:[{t:`th`,k:`ocena`}]},
{time:`25-30`,task:`Zapisz 3 najwiÄ™ksze sÅ‚aboÅ›ci. ZACHOWAJ nagranie na DzieÅ„ 39.`,refs:[]}
]},
{day:5,week:1,type:`review`,icon:`ğŸ”„`,title:`PowtÃ³rka Tygodnia 1 + Planowanie`,module:`RESET`,steps:[
{time:`0-10`,task:`Przejrzyj notatki. Co najbardziej zaskoczyÅ‚o?`,refs:[]},
{time:`10-20`,task:`Zapisz '3 grzechy gÅ‚Ã³wne' â€” nawyki do zmiany.`,refs:[{t:`th`,k:`mod0`}]},
{time:`20-30`,task:`Przeczytaj opis ModuÅ‚u 1. Wybierz z HubSpota 4 leadÃ³w.`,refs:[{t:`th`,k:`matryce`}]}
]},
{day:6,week:2,type:`theory`,icon:`ğŸ“–`,title:`Matryce klienta i selektywna percepcja`,module:`WARTOÅšÄ†`,steps:[
{time:`0-15`,task:`Przeczytaj teoriÄ™ 4 matryc: A, B, C, D.`,refs:[{t:`th`,k:`matryce`}]},
{time:`15-25`,task:`WeÅº 4 leadÃ³w z HubSpota. KtÃ³ra matryca? Dlaczego?`,refs:[{t:`th`,k:`szablon`}]},
{time:`25-30`,task:`Czy ktÃ³ryÅ› nie pasuje? Opisz nowÄ… matrycÄ™ E.`,refs:[]}
]},
{day:7,week:2,type:`exercise`,icon:`âœï¸`,title:`Matryca klienta A i B`,module:`WARTOÅšÄ†`,steps:[
{time:`0-15`,task:`WypeÅ‚nij matrycÄ™ A ('Pali siÄ™') â€” profil, kontekst, atuty, intencja.`,refs:[{t:`th`,k:`szablon`},{t:`th`,k:`intencja`}]},
{time:`15-30`,task:`WypeÅ‚nij matrycÄ™ B. Intencja MUSI byÄ‡ inna niÅ¼ A.`,refs:[{t:`th`,k:`szablon`}]}
]},
{day:8,week:2,type:`exercise`,icon:`âœï¸`,title:`Matryca klienta C i D`,module:`WARTOÅšÄ†`,steps:[
{time:`0-15`,task:`Matryca C: Czym siÄ™ WYRÃ“Å»NIASZ?`,refs:[{t:`th`,k:`szablon`}]},
{time:`15-30`,task:`Matryca D: Co klient musi ZROZUMIEÄ†?`,refs:[{t:`th`,k:`szablon`}]}
]},
{day:9,week:2,type:`recording`,icon:`ğŸ™ï¸`,title:`Discovery Call Simulator`,module:`WARTOÅšÄ†`,steps:[
{time:`0-5`,task:`Przeczytaj pytania discovery. Scenariusz: CTO, automotive, 3 DevOps.`,refs:[{t:`th`,k:`discovery`}]},
{time:`5-20`,task:`Nagraj symulowany discovery call na gÅ‚os.`,refs:[{t:`th`,k:`discovery`}]},
{time:`20-30`,task:`OdsÅ‚uchaj. Wszystkie kluczowe pytania?`,refs:[{t:`th`,k:`ocena`}]}
]},
{day:10,week:2,type:`review`,icon:`ğŸ”„`,title:`PowtÃ³rka + Bank MateriaÅ‚Ã³w`,module:`WARTOÅšÄ†`,steps:[
{time:`0-10`,task:`Przejrzyj 4 matryce. Wyostrz intencje (MAX 10 SÅÃ“W).`,refs:[{t:`th`,k:`intencja`}]},
{time:`10-25`,task:`StwÃ³rz Bank MateriaÅ‚Ã³w: min 2 w kaÅ¼dej kategorii.`,refs:[{t:`th`,k:`bank_opis`}]},
{time:`25-30`,task:`Wpisz w kalendarz: CO PIÄ„TEK 5 min na aktualizacjÄ™.`,refs:[]}
]},
{day:11,week:3,type:`theory`,icon:`ğŸ“–`,title:`Luka informacyjna i Åšwiat 1â€”Åšwiat 2`,module:`NARRACJA cz.1`,steps:[
{time:`0-15`,task:`Przeczytaj teoriÄ™: luka informacyjna, Åšwiat 1â€”2.`,refs:[{t:`th`,k:`luka`}]},
{time:`15-25`,task:`Obejrzyj KozieÅ‚a w Salespresso (10 min).`,refs:[{t:`yt`,k:`sales1`}]},
{time:`25-30`,task:`Co mogÄ™ NATYCHMIAST zastosowaÄ‡?`,refs:[]}
]},
{day:12,week:3,type:`exercise`,icon:`âœï¸`,title:`Napisz 3 hooki`,module:`NARRACJA cz.1`,steps:[
{time:`0-5`,task:`Wybierz klienta. Kto? Matryca? Co go boli?`,refs:[{t:`th`,k:`szablon`}]},
{time:`5-15`,task:`Hook typ 1 â€” Luka informacyjna + typ 2 â€” Anty-intro.`,refs:[{t:`th`,k:`hooki`}]},
{time:`15-25`,task:`Hook typ 3 â€” Historia klienta. Na gÅ‚os.`,refs:[{t:`th`,k:`hooki`}]},
{time:`25-30`,task:`Zapisz w Banku.`,refs:[]}
]},
{day:13,week:3,type:`exercise`,icon:`âœï¸`,title:`2 hooki + wybÃ³r zwyciÄ™zcy`,module:`NARRACJA cz.1`,steps:[
{time:`0-10`,task:`Hook typ 4 â€” Prowokacja.`,refs:[{t:`th`,k:`hooki`}]},
{time:`10-20`,task:`Hook typ 5 â€” Wolny wybÃ³r.`,refs:[{t:`th`,k:`hooki`}]},
{time:`20-30`,task:`5 hookÃ³w na gÅ‚os. OceÅ„ 1-10. TOP 2 â†’ Bank.`,refs:[]}
]},
{day:14,week:3,type:`battle`,icon:`ğŸ”¥`,title:`ZADANIE BOJOWE â€” discovery call`,module:`NARRACJA cz.1`,steps:[
{time:`0-10`,task:`Przygotowanie: lead, matryca, pytania.`,refs:[{t:`th`,k:`discovery`},{t:`th`,k:`szablon`}]},
{time:`10-15`,task:`5 kluczowych pytaÅ„ i follow-upy.`,refs:[{t:`th`,k:`discovery`}]},
{time:`15-30`,task:`WypeÅ‚nij matrycÄ™. 'Ten klient potrzebuje usÅ‚yszeÄ‡, Å¼e ___'.`,refs:[{t:`th`,k:`intencja`}]}
]},
{day:15,week:3,type:`review`,icon:`ğŸ”„`,title:`PowtÃ³rka + aktualizacja banku`,module:`NARRACJA cz.1`,steps:[
{time:`0-10`,task:`Przejrzyj 5 hookÃ³w. ZmieniÅ‚byÅ› ktÃ³ryÅ›?`,refs:[{t:`th`,k:`hooki`}]},
{time:`10-20`,task:`Cytaty klienta â†’ Bank.`,refs:[{t:`th`,k:`bank_opis`}]},
{time:`20-30`,task:`Aktualizuj Bank. Wybierz klienta na scenariusz.`,refs:[]}
]},
{day:16,week:4,type:`theory`,icon:`ğŸ“–`,title:`PrzyczynowoÅ›Ä‡, storytelling, komedia`,module:`NARRACJA cz.2`,steps:[
{time:`0-10`,task:`Przeczytaj: przyczynowoÅ›Ä‡, storytelling, komedia.`,refs:[{t:`th`,k:`przycz`},{t:`th`,k:`story`}]},
{time:`10-20`,task:`Obejrzyj KozieÅ‚a Salespresso cz.2 (10 min).`,refs:[{t:`yt`,k:`sales2`}]},
{time:`20-30`,task:`Zapisz 3 'aha moments'.`,refs:[]}
]},
{day:17,week:4,type:`exercise`,icon:`âœï¸`,title:`Trening przyczynowoÅ›ci`,module:`NARRACJA cz.2`,steps:[
{time:`0-20`,task:`10 twierdzeÅ„ â€” dodaj 'dlaczego' do kaÅ¼dego.`,refs:[{t:`th`,k:`przycz`}]},
{time:`20-30`,task:`Nagraj BEZ i Z przyczynowoÅ›ciÄ…. PorÃ³wnaj.`,refs:[]}
]},
{day:18,week:4,type:`exercise`,icon:`âœï¸`,title:`Historia poraÅ¼ki + komedia`,module:`NARRACJA cz.2`,steps:[
{time:`0-15`,task:`Historia poraÅ¼ki: Sytuacja â†’ Moment â†’ Reakcja â†’ Lekcja â†’ WpÅ‚yw.`,refs:[{t:`th`,k:`story`}]},
{time:`15-30`,task:`3 elementy komediowe: kontrast, zmyÅ‚ka, absurd. Na gÅ‚os.`,refs:[{t:`th`,k:`story`}]}
]},
{day:19,week:4,type:`exercise`,icon:`âœï¸`,title:`PeÅ‚ny scenariusz Åšwiat 1â€”Åšwiat 2`,module:`NARRACJA cz.2`,steps:[
{time:`0-5`,task:`OtwÃ³rz matrycÄ™ + szablon scenariusza.`,refs:[{t:`th`,k:`scenariusz`},{t:`th`,k:`szablon`}]},
{time:`5-15`,task:`Akt 1 (Åšwiat 1) + Akt 2 (Most).`,refs:[{t:`th`,k:`scenariusz`}]},
{time:`15-25`,task:`Akt 3 (Åšwiat 2 + case) + Akt 4 (CTA).`,refs:[{t:`th`,k:`scenariusz`}]},
{time:`25-30`,task:`CaÅ‚y scenariusz na gÅ‚os. Zaznacz braki.`,refs:[]}
]},
{day:20,week:4,type:`battle`,icon:`ğŸ”¥`,title:`ZADANIE BOJOWE â€” nagranie scenariusza`,module:`NARRACJA cz.2`,steps:[
{time:`0-2`,task:`Przygotuj kamerÄ™.`,refs:[]},
{time:`2-17`,task:`NAGRAJ scenariusz od hooka do CTA. Max 15 min.`,refs:[{t:`th`,k:`scenariusz`}]},
{time:`17-25`,task:`Obejrzyj. PorÃ³wnaj z Dniem 4.`,refs:[{t:`th`,k:`ocena`}]},
{time:`25-30`,task:`Aktualizuj Bank.`,refs:[{t:`th`,k:`bank_opis`}]}
]},
{day:21,week:5,type:`theory`,icon:`ğŸ“–`,title:`Zasady wizualizacji`,module:`WIZUALIZACJA`,steps:[
{time:`0-15`,task:`Teoria: slajd â‰  dokument, 1 slajd = 1 myÅ›l.`,refs:[{t:`th`,k:`wizual`}]},
{time:`15-25`,task:`Obejrzyj TED Talk â€” obserwuj SLAJDY.`,refs:[{t:`yt`,k:`ted_slides`}]},
{time:`25-30`,task:`Zapisz '3 nowe zasady'.`,refs:[]}
]},
{day:22,week:5,type:`exercise`,icon:`âœï¸`,title:`Transformacja 3 slajdÃ³w`,module:`WIZUALIZACJA`,steps:[
{time:`0-5`,task:`Wybierz 3 najgorsze slajdy.`,refs:[{t:`th`,k:`audyt`}]},
{time:`5-20`,task:`Przebuduj: bullet pointy â†’ wizualne elementy.`,refs:[{t:`th`,k:`wizual`}]},
{time:`20-30`,task:`PorÃ³wnaj stare i nowe.`,refs:[]}
]},
{day:23,week:5,type:`exercise`,icon:`âœï¸`,title:`Scenariusz slajdowy`,module:`WIZUALIZACJA`,steps:[
{time:`0-15`,task:`Dla kaÅ¼dego slajdu: SLAJD â†’ MÃ“WIÄ˜ â†’ CZAS.`,refs:[{t:`th`,k:`wizual`}]},
{time:`15-30`,task:`3 zestawy danych â†’ wersja wizualna.`,refs:[{t:`th`,k:`wizual`}]}
]},
{day:24,week:5,type:`build`,icon:`ğŸ› ï¸`,title:`Budowanie nowego decku`,module:`WIZUALIZACJA`,steps:[
{time:`0-5`,task:`OtwÃ³rz szablon + scenariusz.`,refs:[{t:`th`,k:`wizual`}]},
{time:`5-25`,task:`12-15 slajdÃ³w. 1 slajd = 1 myÅ›l. Max 10 sÅ‚Ã³w.`,refs:[{t:`th`,k:`wizual`}]},
{time:`25-30`,task:`Zaznacz slajdy do poprawki.`,refs:[]}
]},
{day:25,week:5,type:`review`,icon:`ğŸ”„`,title:`Test 5 sekund + powtÃ³rka`,module:`WIZUALIZACJA`,steps:[
{time:`0-15`,task:`Test 5 sekund z drugÄ… osobÄ….`,refs:[{t:`th`,k:`wizual`}]},
{time:`15-25`,task:`Popraw niezdane.`,refs:[]},
{time:`25-30`,task:`Aktualizuj Bank.`,refs:[{t:`th`,k:`bank_opis`}]}
]},
{day:26,week:6,type:`theory`,icon:`ğŸ“–`,title:`Setup techniczny`,module:`SCENA`,steps:[
{time:`0-10`,task:`Przeczytaj: setup, gÅ‚os, kamera.`,refs:[{t:`th`,k:`scena`}]},
{time:`10-25`,task:`ZrÃ³b setup. Nagraj 30 sek. SprawdÅº.`,refs:[{t:`th`,k:`scena`}]},
{time:`25-30`,task:`Nagraj po poprawkach. PorÃ³wnaj.`,refs:[]}
]},
{day:27,week:6,type:`recording`,icon:`ğŸ™ï¸`,title:`GÅ‚os, dykcja, pauzy`,module:`SCENA`,steps:[
{time:`0-10`,task:`Nagraj fragment. OceÅ„ tempo, pauzy, ton.`,refs:[{t:`th`,k:`scena`}]},
{time:`10-20`,task:`Ten sam fragment z CELOWYMI pauzami.`,refs:[{t:`th`,k:`scena`}]},
{time:`20-30`,task:`PorÃ³wnaj. Policz 'yyy/eee'.`,refs:[{t:`th`,k:`ocena`}]}
]},
{day:28,week:6,type:`recording`,icon:`ğŸ™ï¸`,title:`Kamera + aktywizacja widowni`,module:`SCENA`,steps:[
{time:`0-10`,task:`2-min wideo â€” opowiedz coÅ› z pracy. W KAMERÄ˜.`,refs:[{t:`th`,k:`scena`}]},
{time:`10-15`,task:`Obejrzyj. NaturalnoÅ›Ä‡?`,refs:[]},
{time:`15-30`,task:`Zaplanuj 3 pytania do widowni. Na gÅ‚os.`,refs:[{t:`th`,k:`scena`}]}
]},
{day:29,week:6,type:`exercise`,icon:`âœï¸`,title:`Trudne pytania klientÃ³w`,module:`SCENA`,steps:[
{time:`0-20`,task:`10 najtrudniejszych pytaÅ„ + odpowiedzi.`,refs:[{t:`th`,k:`trudne`},{t:`th`,k:`scena`}]},
{time:`20-30`,task:`3 najtrudniejsze â€” nagraj.`,refs:[]}
]},
{day:30,week:6,type:`battle`,icon:`ğŸ”¥`,title:`PRÃ“BA GENERALNA #1`,module:`SCENA`,steps:[
{time:`0-2`,task:`Setup: kamera, prezentacja, mikrofon.`,refs:[{t:`th`,k:`scena`}]},
{time:`2-17`,task:`NAGRAJ PEÅNÄ„ PREZENTACJÄ˜. 15 min.`,refs:[{t:`th`,k:`check`}]},
{time:`17-27`,task:`OceÅ„ 1-10 w 6 kategoriach.`,refs:[{t:`th`,k:`ocena`}]},
{time:`27-30`,task:`WyÅ›lij nagranie po feedback.`,refs:[]}
]},
{day:31,week:7,type:`review`,icon:`ğŸ”„`,title:`Analiza feedbacku`,module:`SZLIFOWANIE`,steps:[
{time:`0-15`,task:`Zbierz feedback. Wypisz uwagi.`,refs:[]},
{time:`15-25`,task:`Podziel: (A) Åatwe, (B) Wymaga pracy, (C) DÅ‚ugoterminowe.`,refs:[]},
{time:`25-30`,task:`Zaplanuj 3 poprawki.`,refs:[]}
]},
{day:32,week:7,type:`build`,icon:`ğŸ› ï¸`,title:`Poprawki scenariusza`,module:`SZLIFOWANIE`,steps:[
{time:`0-30`,task:`Przepisz sÅ‚abe fragmenty. Wzmocnij hooka. Dodaj 'dlaczego'. Wyostrz CTA.`,refs:[{t:`th`,k:`scenariusz`},{t:`th`,k:`przycz`},{t:`th`,k:`hooki`}]}
]},
{day:33,week:7,type:`build`,icon:`ğŸ› ï¸`,title:`Poprawki slajdÃ³w + leave-behind`,module:`SZLIFOWANIE`,steps:[
{time:`0-20`,task:`Popraw slajdy z feedbacku.`,refs:[{t:`th`,k:`wizual`}]},
{time:`20-30`,task:`Zacznij leave-behind.`,refs:[{t:`th`,k:`wizual`}]}
]},
{day:34,week:7,type:`recording`,icon:`ğŸ™ï¸`,title:`PRÃ“BA GENERALNA #2`,module:`SZLIFOWANIE`,steps:[
{time:`0-2`,task:`Setup.`,refs:[{t:`th`,k:`scena`}]},
{time:`2-17`,task:`NAGRAJ POPRAWIONÄ„ PREZENTACJÄ˜.`,refs:[{t:`th`,k:`check`}]},
{time:`17-27`,task:`PorÃ³wnaj z Dniem 30.`,refs:[{t:`th`,k:`ocena`}]},
{time:`27-30`,task:`Ostatnie poprawki.`,refs:[]}
]},
{day:35,week:7,type:`review`,icon:`ğŸ”„`,title:`Checklista + mega-powtÃ³rka`,module:`SZLIFOWANIE`,steps:[
{time:`0-15`,task:`Przejrzyj checklistÄ™. Wydrukuj.`,refs:[{t:`th`,k:`check`}]},
{time:`15-25`,task:`5 najwaÅ¼niejszych wnioskÃ³w.`,refs:[]},
{time:`25-30`,task:`Wybierz klienta na finaÅ‚. PotwierdÅº termin.`,refs:[]}
]},
{day:36,week:8,type:`review`,icon:`ğŸ”„`,title:`Mega-powtÃ³rka procesu`,module:`FINAÅ`,steps:[
{time:`0-10`,task:`Checklista: matryca? intencja? hook? scenariusz?`,refs:[{t:`th`,k:`check`}]},
{time:`10-20`,task:`Przeczytaj scenariusz po cichu.`,refs:[{t:`th`,k:`scenariusz`}]},
{time:`20-30`,task:`Przejrzyj 10 trudnych pytaÅ„.`,refs:[{t:`th`,k:`trudne`}]}
]},
{day:37,week:8,type:`recording`,icon:`ğŸ™ï¸`,title:`Ostatnia prÃ³ba generalna`,module:`FINAÅ`,steps:[
{time:`0-2`,task:`Setup â€” sprawdÅº wszystko.`,refs:[{t:`th`,k:`scena`}]},
{time:`2-17`,task:`NAGRAJ FINALNÄ„ WERSJÄ˜.`,refs:[{t:`th`,k:`check`}]},
{time:`17-25`,task:`Obejrzyj krytycznie.`,refs:[{t:`th`,k:`ocena`}]},
{time:`25-30`,task:`Mikropoprawki.`,refs:[]}
]},
{day:38,week:8,type:`battle`,icon:`ğŸ”¥`,title:`PRAWDZIWA PREZENTACJA`,module:`FINAÅ`,steps:[
{time:`0-10`,task:`Checklista. Setup. 3 oddechy. Intencja dowÃ³dcy.`,refs:[{t:`th`,k:`check`},{t:`th`,k:`scena`}]},
{time:`10-15`,task:`Opcjonalnie: zgoda na nagranie.`,refs:[]},
{time:`15-30`,task:`PO spotkaniu: wypeÅ‚nij Dziennik Prezentacji.`,refs:[]}
]},
{day:39,week:8,type:`review`,icon:`ğŸ”„`,title:`PorÃ³wnanie: DzieÅ„ 1 vs DzieÅ„ 38`,module:`FINAÅ`,steps:[
{time:`0-10`,task:`Obejrzyj nagranie z Dnia 4 i Dnia 37 obok siebie.`,refs:[]},
{time:`10-20`,task:`OceÅ„ postÄ™p 1-10 w 6 kategoriach.`,refs:[{t:`th`,k:`ocena`}]},
{time:`20-30`,task:`NAJWIÄ˜KSZA zmiana, NAJWIÄ˜KSZY gap, 3 nawyki.`,refs:[]}
]},
{day:40,week:8,type:`review`,icon:`ğŸ”„`,title:`ZamkniÄ™cie kursu`,module:`FINAÅ`,steps:[
{time:`0-10`,task:`'3 grzechy gÅ‚Ã³wne' z Dnia 5. NaprawiÅ‚eÅ›?`,refs:[]},
{time:`10-20`,task:`Plan po kursie: piÄ…tki=Bank, 1x/mies=nagranie.`,refs:[{t:`th`,k:`bank_opis`},{t:`th`,k:`check`}]},
{time:`20-30`,task:`Co jeszcze poprawiÄ‡?`,refs:[]}
]}
];

const MC={'RESET':{bg:`bg-slate-100`,border:`border-slate-300`,text:`text-slate-700`,accent:`bg-slate-600`},'WARTOÅšÄ†':{bg:`bg-blue-50`,border:`border-blue-300`,text:`text-blue-700`,accent:`bg-blue-600`},'NARRACJA cz.1':{bg:`bg-violet-50`,border:`border-violet-300`,text:`text-violet-700`,accent:`bg-violet-600`},'NARRACJA cz.2':{bg:`bg-purple-50`,border:`border-purple-300`,text:`text-purple-700`,accent:`bg-purple-600`},'WIZUALIZACJA':{bg:`bg-amber-50`,border:`border-amber-300`,text:`text-amber-700`,accent:`bg-amber-600`},'SCENA':{bg:`bg-emerald-50`,border:`border-emerald-300`,text:`text-emerald-700`,accent:`bg-emerald-600`},'SZLIFOWANIE':{bg:`bg-orange-50`,border:`border-orange-300`,text:`text-orange-700`,accent:`bg-orange-600`},'FINAÅ':{bg:`bg-red-50`,border:`border-red-300`,text:`text-red-700`,accent:`bg-red-600`}};
const TL={theory:`Teoria`,exercise:`Ä†wiczenie`,recording:`Nagrywanie`,battle:`Zadanie Bojowe`,review:`PowtÃ³rka`,build:`Budowanie`};
const RC=['Hook','Logika','Emocje','Energia','AutentycznoÅ›Ä‡','CTA'];

function useS(key,init){const[v,setV]=useState(init);const[l,setL]=useState(false);useEffect(()=>{(async()=>{try{const r=await window.storage.get('prez_'+key);if(r&&r.value)setV(JSON.parse(r.value));}catch(e){}finally{setL(true);}})();},[]);useEffect(()=>{if(l){try{window.storage.set('prez_'+key,JSON.stringify(v));}catch(e){}}},[v,l]);return[v,setV,l];}

function TheoryPanel({thKey,onClose}){const t=TH[thKey];if(!t)return null;return(<div className='bg-blue-50 border border-blue-200 rounded-xl overflow-hidden mb-3'><div className='flex items-center justify-between px-4 py-2.5 bg-blue-100 border-b border-blue-200'><h3 className='font-bold text-blue-900 text-sm'>{'ğŸ“– '+t.t}</h3><button onClick={onClose} className='text-blue-400 hover:text-blue-700 text-lg leading-none'>âœ•</button></div><div className='px-4 py-3 max-h-96 overflow-y-auto'><pre className='text-sm text-gray-700 whitespace-pre-wrap font-sans leading-relaxed'>{t.b}</pre></div></div>);}

function RefButtons({refs,openTh,setOpenTh}){if(!refs||refs.length===0)return null;return(<div className='flex flex-wrap gap-1.5 mt-2'>{refs.map((r,i)=>{if(r.t==='th'){const th=TH[r.k];const isOpen=openTh===r.k;return<button key={i} onClick={(e)=>{e.preventDefault();e.stopPropagation();setOpenTh(isOpen?null:r.k);}} className={'inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium transition-colors '+(isOpen?'bg-blue-600 text-white':'bg-blue-100 text-blue-700 hover:bg-blue-200')}>{'ğŸ“– '+(th?th.t.substring(0,30):'')}{th&&th.t.length>30?'â€¦':''}</button>;}if(r.t==='yt'){const y=YT[r.k];return<a key={i} href={y?y.u:'#'} target='_blank' rel='noopener noreferrer' className='inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 hover:bg-red-200'>{y?y.l:''} â†—</a>;}return null;})}</div>);}

function Timer(){const[sec,setSec]=useState(1800);const[run,setRun]=useState(false);const[go,setGo]=useState(false);const ref=useRef(null);useEffect(()=>{if(run&&sec>0)ref.current=setInterval(()=>setSec(s=>s-1),1000);else if(sec===0)setRun(false);return()=>clearInterval(ref.current);},[run,sec]);const m=Math.floor(sec/60),s=sec%60,p=((1800-sec)/1800)*100,lo=sec<=300;return(<div className='flex flex-col items-center gap-3 p-4 rounded-xl bg-gray-900 text-white'><div className='text-xs uppercase tracking-widest text-gray-400'>Sesja 30 minut</div><div className={'text-5xl font-mono font-bold tabular-nums '+(lo||sec===0?'text-red-400':'text-white')+(sec===0?' animate-pulse':'')}>{String(m).padStart(2,'0')+':'+String(s).padStart(2,'0')}</div><div className='w-full bg-gray-700 rounded-full h-2'><div className={'h-2 rounded-full transition-all duration-1000 '+(lo?'bg-red-500':'bg-emerald-500')} style={{width:p+'%'}}/></div><div className='flex gap-3'><button onClick={()=>{setRun(!run);setGo(true);}} className={'px-5 py-2 rounded-lg font-medium text-sm '+(run?'bg-yellow-600 hover:bg-yellow-500':'bg-emerald-600 hover:bg-emerald-500')}>{run?'Pauza':go?'WznÃ³w':'Start'}</button>{go&&<button onClick={()=>{setRun(false);setSec(1800);setGo(false);}} className='px-5 py-2 rounded-lg text-sm bg-gray-700 hover:bg-gray-600'>Reset</button>}</div>{sec===0&&<div className='text-red-400 font-bold text-lg'>Czas minÄ…Å‚!</div>}</div>);}

function TodayView({currentDay,setCurrentDay,completed,completionDates,setView}){const dd=DAYS_DATA.find(d=>d.day===currentDay);const c=MC[dd.module];const today=new Date();today.setHours(0,0,0,0);let streak=0;const chk=new Date(today);for(let i=0;i<60;i++){const k=chk.toISOString().split('T')[0];if(completionDates[k]){streak++;chk.setDate(chk.getDate()-1);}else if(i===0){chk.setDate(chk.getDate()-1);}else break;}const totalDone=DAYS_DATA.filter(d=>completed[d.day]&&d.steps.every((_,i)=>completed[d.day][i])).length;const lastDate=Object.keys(completionDates).sort().reverse()[0];const ds=lastDate?Math.floor((today-new Date(lastDate))/86400000):null;return(<div className='flex flex-col gap-4'><div className='bg-white rounded-xl border border-gray-200 p-5 flex items-center justify-between'><div><div className='text-4xl font-bold text-gray-900'>{streak}</div><div className='text-sm text-gray-500'>dni z rzÄ™du</div></div><div className='flex gap-1'>{Array.from({length:7}).map((_,i)=>{const d=new Date(today);d.setDate(d.getDate()-6+i);const k=d.toISOString().split('T')[0];return(<div key={i} className='flex flex-col items-center gap-1'><div className='text-xs text-gray-400'>{['Nd','Pn','Wt','Åšr','Cz','Pt','So'][d.getDay()]}</div><div className={'w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold '+(completionDates[k]?'bg-emerald-500 text-white':i===6?'border-2 border-blue-500 text-blue-600':'bg-gray-100 text-gray-400')}>{d.getDate()}</div></div>);})}</div></div><div className={'rounded-xl border-2 '+c.border+' '+c.bg+' p-5'}><div className={'text-xs font-bold uppercase tracking-wider '+c.text+' mb-2'}>{'TydzieÅ„ '+dd.week+' Â· '+dd.module+' Â· '+TL[dd.type]}</div><h2 className='text-2xl font-bold text-gray-900 mb-1'>{dd.icon+' DzieÅ„ '+dd.day}</h2><p className='text-lg text-gray-700 mb-1'>{dd.title}</p><p className='text-sm text-gray-500 mb-4'>{dd.steps.length+' krokÃ³w Â· 30 minut'}{ds>1&&<span className={ds>2?' text-red-500 font-medium':''}>{' Â· '+ds+' dni od ostatniej sesji'}</span>}</p><button onClick={()=>setView('session')} className={'w-full py-3 rounded-xl text-white font-bold text-lg '+c.accent+' hover:opacity-90'}>Zaczynam sesjÄ™ â†’</button></div><div className='grid grid-cols-3 gap-3'><div className='bg-white rounded-xl border border-gray-200 p-4 text-center'><div className='text-2xl font-bold'>{totalDone}</div><div className='text-xs text-gray-500'>ukoÅ„czonych</div></div><div className='bg-white rounded-xl border border-gray-200 p-4 text-center'><div className='text-2xl font-bold'>{40-totalDone}</div><div className='text-xs text-gray-500'>pozostaÅ‚o</div></div><div className='bg-white rounded-xl border border-gray-200 p-4 text-center'><div className='text-2xl font-bold'>{Math.round(totalDone/40*100)+'%'}</div><div className='text-xs text-gray-500'>postÄ™p</div></div></div><div className='bg-white rounded-xl border border-gray-200 p-4'><h3 className='font-bold text-gray-800 text-sm mb-3'>Ten tydzieÅ„</h3><div className='space-y-2'>{DAYS_DATA.filter(d=>d.week===dd.week).map(d=>{const dn=completed[d.day]&&d.steps.every((_,i)=>completed[d.day][i]);const cu=d.day===currentDay;return(<button key={d.day} onClick={()=>setCurrentDay(d.day)} className={'w-full flex items-center gap-3 p-3 rounded-lg text-left '+(cu?'bg-blue-50 border border-blue-200':'hover:bg-gray-50')}><div className={'w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0 '+(dn?'bg-emerald-500 text-white':cu?'bg-blue-600 text-white':'bg-gray-200 text-gray-500')}>{dn?'âœ“':d.day}</div><div className='flex-1 min-w-0'><div className='text-sm font-medium text-gray-800 truncate'>{d.icon+' '+d.title}</div><div className='text-xs text-gray-400'>{TL[d.type]}</div></div></button>);})}</div></div><div className='flex gap-2'><button disabled={currentDay<=1} onClick={()=>setCurrentDay(currentDay-1)} className='flex-1 py-2 rounded-lg text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-30'>â† Poprzedni</button><button disabled={currentDay>=40} onClick={()=>setCurrentDay(currentDay+1)} className='flex-1 py-2 rounded-lg text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-30'>NastÄ™pny â†’</button></div></div>);}

function SessionView({currentDay,setCurrentDay,completed,setCompleted,dayNotes,setDayNotes,dayRatings,setDayRatings,dayLinks,setDayLinks,completionDates,setCompletionDates}){const dd=DAYS_DATA.find(d=>d.day===currentDay);const c=MC[dd.module];const isR=dd.type==='recording'||dd.type==='battle';const allDone=dd.steps.every((_,i)=>completed[currentDay]&&completed[currentDay][i]);const[openTh,setOpenTh]=useState(null);const toggle=(i)=>{setCompleted(p=>{const s=Object.assign({},p[currentDay]||{});s[i]=!s[i];const n=Object.assign({},p);n[currentDay]=s;if(dd.steps.every((_,idx)=>s[idx])){const t=new Date().toISOString().split('T')[0];setCompletionDates(cd=>{const nc=Object.assign({},cd);nc[t]=true;return nc;});}return n;});};return(<div className='flex flex-col gap-4'><div className='flex items-center justify-between'><button onClick={()=>setCurrentDay(Math.max(1,currentDay-1))} disabled={currentDay===1} className='px-3 py-1.5 rounded-lg text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-30'>â†</button><select value={currentDay} onChange={e=>setCurrentDay(Number(e.target.value))} className='border border-gray-300 rounded-lg px-2 py-1.5 text-sm font-medium flex-1 mx-2'>{DAYS_DATA.map(d=><option key={d.day} value={d.day}>{'DzieÅ„ '+d.day+' â€” '+d.title}</option>)}</select><button onClick={()=>setCurrentDay(Math.min(40,currentDay+1))} disabled={currentDay===40} className='px-3 py-1.5 rounded-lg text-sm bg-gray-100 hover:bg-gray-200 disabled:opacity-30'>â†’</button></div><div className={'rounded-xl border-2 '+c.border+' '+c.bg+' p-4'}><div className={'text-xs font-bold uppercase tracking-wider '+c.text+' mb-1'}>{'TydzieÅ„ '+dd.week+' Â· '+dd.module+' Â· '+TL[dd.type]}</div><h2 className='text-xl font-bold text-gray-900'>{dd.icon+' DzieÅ„ '+dd.day+': '+dd.title}</h2>{allDone&&<div className='mt-2 text-sm font-medium text-emerald-600'>âœ“ Sesja ukoÅ„czona</div>}</div><Timer/><div className='bg-white rounded-xl border border-gray-200 overflow-hidden'><div className='px-4 py-3 bg-gray-50 border-b border-gray-200'><h3 className='font-bold text-gray-800 text-sm uppercase tracking-wide'>Plan sesji</h3></div><div className='divide-y divide-gray-100'>{dd.steps.map((step,i)=>(<div key={i} className='p-4'><div className='flex items-start gap-3'><input type='checkbox' checked={(completed[currentDay]&&completed[currentDay][i])||false} onChange={()=>toggle(i)} className='mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 flex-shrink-0 cursor-pointer'/><div className={completed[currentDay]&&completed[currentDay][i]?'opacity-40':''}><span className={'inline-block text-xs font-mono font-bold px-2 py-0.5 rounded mr-2 '+c.accent+' text-white'}>{'min '+step.time}</span><span className='text-sm text-gray-800 leading-relaxed'>{step.task}</span><RefButtons refs={step.refs} openTh={openTh} setOpenTh={setOpenTh}/></div></div>{step.refs&&step.refs.some(r=>r.t==='th'&&r.k===openTh)&&<div className='mt-3 ml-8'><TheoryPanel thKey={openTh} onClose={()=>setOpenTh(null)}/></div>}</div>))}</div></div>{isR&&<div className='bg-white rounded-xl border border-gray-200 p-4'><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Link do nagrania</label><input value={(dayLinks[currentDay])||''} onChange={e=>setDayLinks(p=>{const n=Object.assign({},p);n[currentDay]=e.target.value;return n;})} placeholder='Loom / Google Drive...' className='w-full border border-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500'/></div>}{isR&&<div className='bg-white rounded-xl border border-gray-200 overflow-hidden'><div className='px-4 py-3 bg-gray-50 border-b border-gray-200'><h3 className='font-bold text-gray-800 text-sm uppercase tracking-wide'>Samoocena (1-10)</h3></div><div className='p-4 grid grid-cols-2 gap-3'>{RC.map(cat=>(<div key={cat} className='flex items-center justify-between gap-2'><span className='text-sm text-gray-700'>{cat}</span><select value={(dayRatings[currentDay]&&dayRatings[currentDay][cat])||''} onChange={e=>setDayRatings(p=>{const n=Object.assign({},p);n[currentDay]=Object.assign({},p[currentDay]||{});n[currentDay][cat]=Number(e.target.value);return n;})} className='border border-gray-300 rounded px-2 py-1 text-sm w-16'><option value=''>â€”</option>{[1,2,3,4,5,6,7,8,9,10].map(n=><option key={n} value={n}>{n}</option>)}</select></div>))}</div></div>}<div className='bg-white rounded-xl border border-gray-200 overflow-hidden'><div className='px-4 py-3 bg-gray-50 border-b border-gray-200'><h3 className='font-bold text-gray-800 text-sm uppercase tracking-wide'>Notatki</h3></div><textarea value={(dayNotes[currentDay])||''} onChange={e=>setDayNotes(p=>{const n=Object.assign({},p);n[currentDay]=e.target.value;return n;})} placeholder='Co odkryÅ‚eÅ›?' className='w-full p-4 text-sm text-gray-800 min-h-[120px] border-0 focus:outline-none resize-y'/></div></div>);}

function WarsztatView({bankItems,setBankItems,matrices,setMatrices,scenarios,setScenarios}){const[tab,setTab]=useState('bank');const tabs=[{id:'bank',l:'Bank',i:'ğŸ—„ï¸'},{id:'matrix',l:'Matryce',i:'ğŸ¯'},{id:'scenarios',l:'Scenariusze',i:'ğŸ¬'},{id:'checklist',l:'Checklista',i:'âœ…'},{id:'library',l:'Teoria',i:'ğŸ“–'}];return(<div className='flex flex-col gap-4'><div className='flex gap-1 bg-gray-100 rounded-xl p-1'>{tabs.map(t=><button key={t.id} onClick={()=>setTab(t.id)} className={'flex-1 py-2 px-1 rounded-lg text-xs font-medium transition-colors '+(tab===t.id?'bg-white shadow text-gray-900':'text-gray-500')}>{t.i+' '+t.l}</button>)}</div>{tab==='bank'&&<BankSec items={bankItems} set={setBankItems}/>}{tab==='matrix'&&<MatrixSec matrices={matrices} set={setMatrices}/>}{tab==='scenarios'&&<ScenarioSec scenarios={scenarios} set={setScenarios}/>}{tab==='checklist'&&<CheckSec/>}{tab==='library'&&<LibrarySec/>}</div>);}

function LibrarySec(){const[open,setOpen]=useState(null);const items=Object.keys(TH);return(<div className='flex flex-col gap-3'><h2 className='text-lg font-bold text-gray-900'>Biblioteka teorii</h2><p className='text-sm text-gray-500'>CaÅ‚a wiedza z kursu w jednym miejscu.</p>{items.map(k=>(<div key={k}><button onClick={()=>setOpen(open===k?null:k)} className={'w-full text-left p-3 rounded-lg border transition-colors '+(open===k?'bg-blue-50 border-blue-200':'bg-white border-gray-200 hover:bg-gray-50')}><span className='text-sm font-medium text-gray-800'>{'ğŸ“– '+TH[k].t}</span></button>{open===k&&<TheoryPanel thKey={k} onClose={()=>setOpen(null)}/>}</div>))}<h3 className='text-sm font-bold text-gray-700 mt-2'>Filmy i linki</h3>{Object.values(YT).map((y,i)=><a key={i} href={y.u} target='_blank' rel='noopener noreferrer' className='block p-3 bg-white rounded-lg border border-gray-200 hover:bg-red-50 text-sm text-red-700'>{y.l+' â†—'}</a>)}</div>);}

function BankSec({items,set}){const cats=['Case Studies','Liczby i dane','Cytaty klientÃ³w','Aha moments','PoraÅ¼ki i lekcje','Hooki','Elementy komediowe'];const[cat,setCat]=useState(cats[0]);const[text,setText]=useState('');const add=()=>{if(text.trim()){set(p=>[].concat(p,[{id:Date.now(),category:cat,text:text.trim()}]));setText('');}};return(<div className='flex flex-col gap-3'><h2 className='text-lg font-bold text-gray-900'>Bank MateriaÅ‚Ã³w</h2><div className='flex flex-wrap gap-1.5'>{cats.map(c=><button key={c} onClick={()=>setCat(c)} className={'px-2.5 py-1 rounded-full text-xs font-medium '+(cat===c?'bg-blue-600 text-white':'bg-gray-100 text-gray-600 hover:bg-gray-200')}>{c+' ('+items.filter(i=>i.category===c).length+')'}</button>)}</div><div className='flex gap-2'><input value={text} onChange={e=>setText(e.target.value)} placeholder={'Dodaj do: '+cat+'...'} className='flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500' onKeyDown={e=>{if(e.key==='Enter')add();}}/><button onClick={add} className='px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium'>+</button></div><div className='space-y-2'>{items.filter(i=>i.category===cat).length===0&&<p className='text-sm text-gray-400 italic py-3'>Brak wpisÃ³w.</p>}{items.filter(i=>i.category===cat).map(item=><div key={item.id} className='flex items-start gap-3 p-3 bg-white rounded-lg border border-gray-200 group'><span className='text-sm text-gray-800 flex-1'>{item.text}</span><button onClick={()=>set(p=>p.filter(x=>x.id!==item.id))} className='text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100'>âœ•</button></div>)}</div></div>);}

function MatrixSec({matrices,set}){const types=[{k:'A',n:'Pali siÄ™'},{k:'B',n:'SpaliÅ‚ siÄ™'},{k:'C',n:'PorÃ³wnuje'},{k:'D',n:'Nie wie'}];const[a,setA]=useState('A');const m=matrices[a]||{profile:'',context:'',strengths:'',commander:''};const u=(f,v)=>{const nm=Object.assign({},m);nm[f]=v;const ns=Object.assign({},matrices);ns[a]=nm;set(ns);};return(<div className='flex flex-col gap-3'><h2 className='text-lg font-bold text-gray-900'>Matryce KlientÃ³w</h2><div className='flex gap-2'>{types.map(t=><button key={t.k} onClick={()=>setA(t.k)} className={'flex-1 py-2 rounded-lg text-sm font-medium '+(a===t.k?'bg-blue-600 text-white':'bg-gray-100 text-gray-700')}><div className='font-bold'>{t.k}</div><div className='text-xs opacity-80'>{t.n}</div></button>)}</div><div className='bg-white rounded-xl border border-gray-200 p-4 space-y-3'>{[{k:'profile',l:'Profil klienta'},{k:'context',l:'Kontekst'},{k:'strengths',l:'Moje atuty'}].map(f=><div key={f.k}><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>{f.l}</label><textarea value={m[f.k]} onChange={e=>u(f.k,e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm min-h-[70px] focus:outline-none focus:ring-2 focus:ring-blue-500'/></div>)}<div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Intencja dowÃ³dcy (max 10 sÅ‚Ã³w)</label><input value={m.commander} onChange={e=>u('commander',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500'/><div className='text-xs text-gray-400 mt-1'>{(m.commander||'').split(/\s+/).filter(Boolean).length+'/10'}</div></div></div></div>);}

function ScenarioSec({scenarios,set}){const[ed,setEd]=useState(null);const active=scenarios.find(s=>s.id===ed);const create=()=>{const s={id:Date.now(),client:'',matrix:'A',commander:'',hook:'',act1:'',act2:'',act3:'',caseStudy:'',act4:'',date:new Date().toISOString().split('T')[0]};set(p=>[s].concat(p));setEd(s.id);};const upd=(f,v)=>set(p=>p.map(s=>s.id===ed?Object.assign({},s,{[f]:v}):s));if(active){const acts=[{k:'hook',l:'Hook / Otwarcie',p:'Jakim pytaniem zaczynasz?',cl:'border-l-violet-500'},{k:'act1',l:'Akt 1: Åšwiat 1 â€” Problem',p:'BÃ³l klienta',cl:'border-l-red-500'},{k:'act2',l:'Akt 2: Most',p:'Dlaczego standard nie dziaÅ‚a?',cl:'border-l-amber-500'},{k:'act3',l:'Akt 3: Åšwiat 2 â€” RozwiÄ…zanie',p:'Co robisz inaczej?',cl:'border-l-emerald-500'},{k:'caseStudy',l:'Case Study',p:'Klient â†’ problem â†’ wynik',cl:'border-l-emerald-300'},{k:'act4',l:'Akt 4: CTA',p:'Konkretny krok',cl:'border-l-blue-500'}];return(<div className='flex flex-col gap-3'><button onClick={()=>setEd(null)} className='text-sm text-blue-600 self-start'>â† Lista</button><h2 className='text-lg font-bold text-gray-900'>Scenariusz</h2><div className='bg-white rounded-xl border border-gray-200 p-4 space-y-3'><div className='grid grid-cols-2 gap-3'><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Klient</label><input value={active.client} onChange={e=>upd('client',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'/></div><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Matryca</label><select value={active.matrix} onChange={e=>upd('matrix',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'><option value='A'>A</option><option value='B'>B</option><option value='C'>C</option><option value='D'>D</option></select></div></div><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Intencja dowÃ³dcy</label><input value={active.commander} onChange={e=>upd('commander',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'/></div></div>{acts.map(a=><div key={a.k} className={'bg-white rounded-xl border border-gray-200 overflow-hidden border-l-4 '+a.cl}><div className='px-4 py-2 bg-gray-50 border-b border-gray-200'><h3 className='font-bold text-gray-800 text-sm'>{a.l}</h3></div><textarea value={active[a.k]} onChange={e=>upd(a.k,e.target.value)} placeholder={a.p} className='w-full p-4 text-sm min-h-[90px] border-0 focus:outline-none resize-y'/></div>)}</div>);}return(<div className='flex flex-col gap-3'><div className='flex items-center justify-between'><h2 className='text-lg font-bold text-gray-900'>Scenariusze</h2><button onClick={create} className='px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium'>+ Nowy</button></div>{scenarios.length===0&&<p className='text-sm text-gray-400 italic py-6 text-center'>Brak scenariuszy.</p>}{scenarios.map(s=><div key={s.id} className='bg-white rounded-xl border border-gray-200 p-4 group'><div className='flex items-start justify-between'><button onClick={()=>setEd(s.id)} className='text-left flex-1'><div className='font-bold text-gray-900'>{s.client||'Bez nazwy'}</div><div className='text-xs text-gray-500'>{'Matryca '+s.matrix+' Â· '+s.date}</div>{s.commander&&<div className='text-sm text-blue-600 mt-1 italic'>{"'"+s.commander+"'"}</div>}</button><button onClick={()=>set(p=>p.filter(x=>x.id!==s.id))} className='text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 ml-2'>âœ•</button></div></div>)}</div>);}

function CheckSec(){const items=['Matryca klienta wypeÅ‚niona?','JEDNA intencja dowÃ³dcy?','Hook tworzy LUKÄ˜ INFORMACYJNÄ„?','Struktura ÅšWIAT 1 â†’ ÅšWIAT 2?','KAÅ»DE twierdzenie ma "dlaczego"?','HISTORIA (case study + liczby)?','Slajdy â†’ TEST 5 SEKUND?','PYTANIA do widowni (min 3)?','CTA KONKRETNE?','PRZETESTOWANE na gÅ‚os?','Setup techniczny OK?'];const[ch,setCh]=useState({});const all=items.every((_,i)=>ch[i]);return(<div className='flex flex-col gap-3'><div className='flex items-center justify-between'><h2 className='text-lg font-bold text-gray-900'>Checklista</h2><button onClick={()=>setCh({})} className='text-xs text-gray-500 underline'>Reset</button></div><div className='bg-white rounded-xl border border-gray-200 divide-y divide-gray-100'>{items.map((item,i)=><label key={i} className='flex items-center gap-3 p-3.5 hover:bg-gray-50 cursor-pointer'><input type='checkbox' checked={ch[i]||false} onChange={()=>setCh(p=>{const n=Object.assign({},p);n[i]=!p[i];return n;})} className='h-5 w-5 rounded border-gray-300 text-emerald-600'/><span className={'text-sm '+(ch[i]?'text-gray-400 line-through':'text-gray-800')}>{item}</span></label>)}</div>{all&&<div className='bg-emerald-50 border border-emerald-200 rounded-xl p-4 text-center'><div className='text-2xl mb-1'>ğŸ¯</div><div className='font-bold text-emerald-800'>Gotowy!</div></div>}</div>);}

function JournalView({entries,set}){const[ed,setEd]=useState(null);const active=entries.find(e=>e.id===ed);const create=()=>{const e={id:Date.now(),date:new Date().toISOString().split('T')[0],client:'',matrix:'A',commander:'',worked:'',didntWork:'',reactions:'',hardestQ:'',myAnswer:'',changes:'',result:''};set(p=>[e].concat(p));setEd(e.id);};const upd=(f,v)=>set(p=>p.map(e=>e.id===ed?Object.assign({},e,{[f]:v}):e));if(active){const fields=[{k:'worked',l:'Co zadziaÅ‚aÅ‚o?'},{k:'didntWork',l:'Co NIE zadziaÅ‚aÅ‚o?'},{k:'reactions',l:'Reakcje klienta'},{k:'hardestQ',l:'Najtrudniejsze pytanie'},{k:'myAnswer',l:'Moja odpowiedÅº'},{k:'changes',l:'Co zmieniÄ™?'},{k:'result',l:'Wynik'}];return(<div className='flex flex-col gap-3'><button onClick={()=>setEd(null)} className='text-sm text-blue-600 self-start'>â† Lista</button><div className='bg-white rounded-xl border border-gray-200 p-4 space-y-3'><div className='grid grid-cols-3 gap-3'><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Data</label><input type='date' value={active.date} onChange={e=>upd('date',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'/></div><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Klient</label><input value={active.client} onChange={e=>upd('client',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'/></div><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Matryca</label><select value={active.matrix} onChange={e=>upd('matrix',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'><option value='A'>A</option><option value='B'>B</option><option value='C'>C</option><option value='D'>D</option></select></div></div><div><label className='block text-xs font-bold text-gray-500 uppercase mb-1'>Intencja dowÃ³dcy</label><input value={active.commander} onChange={e=>upd('commander',e.target.value)} className='w-full border border-gray-300 rounded-lg p-2 text-sm'/></div></div>{fields.map(f=><div key={f.k} className='bg-white rounded-xl border border-gray-200 overflow-hidden'><div className='px-4 py-2 bg-gray-50 border-b border-gray-200'><h3 className='font-bold text-gray-800 text-sm'>{f.l}</h3></div><textarea value={active[f.k]} onChange={e=>upd(f.k,e.target.value)} className='w-full p-3 text-sm min-h-[70px] border-0 focus:outline-none resize-y'/></div>)}</div>);}return(<div className='flex flex-col gap-3'><div className='flex items-center justify-between'><h2 className='text-lg font-bold text-gray-900'>Dziennik Prezentacji</h2><button onClick={create} className='px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium'>+ Nowy</button></div><p className='text-sm text-gray-500'>WypeÅ‚niaj po KAÅ»DYM spotkaniu.</p>{entries.length===0&&<p className='text-sm text-gray-400 italic py-6 text-center'>Brak wpisÃ³w.</p>}{entries.map(e=><div key={e.id} className='bg-white rounded-xl border border-gray-200 p-4 group'><div className='flex items-start justify-between'><button onClick={()=>setEd(e.id)} className='text-left flex-1'><div className='font-bold text-gray-900'>{(e.client||'Bez nazwy')+' '}<span className='text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-600'>{e.matrix}</span></div><div className='text-xs text-gray-500'>{e.date}</div>{e.result&&<div className='text-sm text-emerald-600 mt-1'>{e.result.substring(0,80)}</div>}</button><button onClick={()=>set(p=>p.filter(x=>x.id!==e.id))} className='text-gray-300 hover:text-red-500 text-xs opacity-0 group-hover:opacity-100 ml-2'>âœ•</button></div></div>)}</div>);}

function ProgressView({completed,dayRatings}){const[show,setShow]=useState(true);const totalDone=DAYS_DATA.filter(d=>completed[d.day]&&d.steps.every((_,i)=>completed[d.day][i])).length;const ratedDays=[4,9,20,27,28,30,34,37,39].filter(d=>dayRatings[d]&&RC.some(c=>dayRatings[d][c]));const radarData=RC.map(cat=>{const row={category:cat};ratedDays.forEach(d=>{row['DzieÅ„ '+d]=(dayRatings[d]&&dayRatings[d][cat])||0;});return row;});const colors=['#6366f1','#f59e0b','#10b981','#ef4444','#3b82f6','#8b5cf6','#ec4899','#14b8a6'];return(<div className='flex flex-col gap-4'><h2 className='text-xl font-bold text-gray-900'>PostÄ™p kursu</h2><div className='bg-white rounded-xl border border-gray-200 p-5'><div className='text-4xl font-bold'>{Math.round(totalDone/40*100)+'%'}</div><div className='text-sm text-gray-500 mb-3'>{totalDone+' z 40 sesji'}</div><div className='w-full bg-gray-200 rounded-full h-3'><div className='h-3 rounded-full bg-blue-600 transition-all' style={{width:(totalDone/40*100)+'%'}}/></div></div><div className='bg-white rounded-xl border border-gray-200 overflow-hidden'><button onClick={()=>setShow(!show)} className='w-full px-4 py-3 bg-gray-50 border-b border-gray-200 flex items-center justify-between'><h3 className='font-bold text-gray-800 text-sm uppercase tracking-wide'>PorÃ³wnywarka samoocen</h3><span className='text-xs text-gray-400'>{show?'zwiÅ„':'rozwiÅ„'}</span></button>{show&&<div className='p-4'>{ratedDays.length===0?<p className='text-sm text-gray-400 italic text-center py-6'>Brak samoocen.</p>:<div><ResponsiveContainer width='100%' height={300}><RadarChart data={radarData} margin={{top:20,right:30,bottom:20,left:30}}><PolarGrid stroke='#e5e7eb'/><PolarAngleAxis dataKey='category' tick={{fontSize:11,fill:'#6b7280'}}/><PolarRadiusAxis angle={30} domain={[0,10]} tick={{fontSize:10}}/>{ratedDays.map((d,i)=><Radar key={d} name={'DzieÅ„ '+d} dataKey={'DzieÅ„ '+d} stroke={colors[i%colors.length]} fill={colors[i%colors.length]} fillOpacity={0.1} strokeWidth={2}/>)}<Legend wrapperStyle={{fontSize:12}}/><Tooltip contentStyle={{fontSize:12}}/></RadarChart></ResponsiveContainer></div>}</div>}</div><div className='space-y-2'>{[1,2,3,4,5,6,7,8].map(w=>{const days=DAYS_DATA.filter(d=>d.week===w);const mc=MC[days[0].module];return(<div key={w} className={'rounded-lg border '+mc.border+' '+mc.bg+' p-3'}><div className='flex items-center justify-between'><span className={'text-sm font-bold '+mc.text}>{'TydzieÅ„ '+w+': '+days[0].module}</span><div className='flex gap-1'>{days.map(d=>{const dn=completed[d.day]&&d.steps.every((_,i)=>completed[d.day][i]);const st=completed[d.day]&&Object.values(completed[d.day]).some(v=>v);return<div key={d.day} className={'w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold '+(dn?mc.accent+' text-white':st?'bg-white border-2 border-blue-400 text-blue-600':'bg-white border border-gray-300 text-gray-400')}>{d.day}</div>;})}</div></div></div>);})}</div></div>);}

export default function App(){const[view,setView]=useState('today');const[currentDay,setCurrentDay,l1]=useS('currentDay',1);const[completed,setCompleted,l2]=useS('completed',{});const[dayNotes,setDayNotes,l3]=useS('dayNotes',{});const[dayRatings,setDayRatings,l4]=useS('dayRatings',{});const[dayLinks,setDayLinks,l5]=useS('dayLinks',{});const[bankItems,setBankItems,l6]=useS('bankItems',[]);const[matrices,setMatrices,l7]=useS('matrices',{});const[scenarios,setScenarios,l8]=useS('scenarios',[]);const[journal,setJournal,l9]=useS('journal',[]);const[completionDates,setCompletionDates,l10]=useS('dates',{});const loaded=l1&&l2&&l3&&l4&&l5&&l6&&l7&&l8&&l9&&l10;const nav=[{id:'today',l:'DziÅ›',i:'ğŸ '},{id:'session',l:'Sesja',i:'â±ï¸'},{id:'warsztat',l:'Warsztat',i:'ğŸ› ï¸'},{id:'journal',l:'Dziennik',i:'ğŸ““'},{id:'progress',l:'PostÄ™p',i:'ğŸ“Š'}];if(!loaded)return<div className='min-h-screen flex items-center justify-center bg-gray-50'><div className='text-gray-400 animate-pulse'>Åadowanie...</div></div>;return(<div className='min-h-screen bg-gray-50'><div className='max-w-2xl mx-auto pb-20'><div className='bg-white border-b border-gray-200 px-5 py-3 sticky top-0 z-10'><h1 className='text-base font-bold text-gray-900'>Prezentacje SprzedaÅ¼owe</h1><p className='text-xs text-gray-500'>8 tygodni Â· 30 min/dzieÅ„ Â· metodyka 4 warstw KozieÅ‚a</p></div><div className='p-4'>{view==='today'&&<TodayView currentDay={currentDay} setCurrentDay={setCurrentDay} completed={completed} completionDates={completionDates} setView={setView}/>}{view==='session'&&<SessionView currentDay={currentDay} setCurrentDay={setCurrentDay} completed={completed} setCompleted={setCompleted} dayNotes={dayNotes} setDayNotes={setDayNotes} dayRatings={dayRatings} setDayRatings={setDayRatings} dayLinks={dayLinks} setDayLinks={setDayLinks} completionDates={completionDates} setCompletionDates={setCompletionDates}/>}{view==='warsztat'&&<WarsztatView bankItems={bankItems} setBankItems={setBankItems} matrices={matrices} setMatrices={setMatrices} scenarios={scenarios} setScenarios={setScenarios}/>}{view==='journal'&&<JournalView entries={journal} set={setJournal}/>}{view==='progress'&&<ProgressView completed={completed} dayRatings={dayRatings}/>}</div></div><div className='fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-20'><div className='max-w-2xl mx-auto flex'>{nav.map(n=><button key={n.id} onClick={()=>setView(n.id)} className={'flex-1 py-3 flex flex-col items-center gap-0.5 text-xs font-medium '+(view===n.id?'text-blue-600':'text-gray-400 hover:text-gray-600')}><span className='text-base'>{n.i}</span><span>{n.l}</span></button>)}</div></div></div>);}

